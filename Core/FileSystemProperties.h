#pragma once

#include "Core.h"
#include "Allocation.h"
#include "String.h"

namespace Core {
//----------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////
//----------------------------------------------------------------------------
template <
    typename        _Tag,
    typename        _Char,
    CaseSensitive   _CaseSensitive,
    typename        _TokenTraits,
    typename        _Allocator
>
class Token;
//----------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////
//----------------------------------------------------------------------------
namespace FileSystem {
//----------------------------------------------------------------------------
typedef wchar_t char_type;
//----------------------------------------------------------------------------
enum : char_type { Separator = L'/', AltSeparator = L'\\' };
//----------------------------------------------------------------------------
class TokenTraits {
public:
    const std::locale& Locale() const { return std::locale::classic(); }
    bool IsAllowedChar(wchar_t ch) const;
};
//----------------------------------------------------------------------------
template <typename _Tag>
using Token = Core::Token<
    _Tag,
    char_type,
    CaseSensitive::False,
    TokenTraits,
    ALLOCATOR(FileSystem, char_type)
>;
//----------------------------------------------------------------------------
size_t SystemTemporaryDirectory(char_type *path, size_t capacity);
//----------------------------------------------------------------------------
} //!namespace FileSystem
//----------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////
//----------------------------------------------------------------------------
} //!namespace Core

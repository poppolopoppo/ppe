#pragma once

#include "Core/Core.h"

#include "Core/Allocator/AllocatorBase.h"
#include "Core/Allocator/HeapAllocator.h"

namespace Core {
//----------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////
//----------------------------------------------------------------------------
extern FHeap& GetThreadLocalHeap();
//----------------------------------------------------------------------------
namespace Heaps {
//----------------------------------------------------------------------------
struct FThreadLocal {
    static FHeap& Instance() { return Core::GetThreadLocalHeap(); }
};
//----------------------------------------------------------------------------
} //!namespace Heaps
//----------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////
//----------------------------------------------------------------------------
template <typename T>
using TThreadLocalAllocator = THeapAllocator<T, Heaps::FThreadLocal>;
//----------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////
//----------------------------------------------------------------------------
} //!namespace Core

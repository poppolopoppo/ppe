#pragma once

#include "Core/Core.h"

namespace Core {
//----------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////
//----------------------------------------------------------------------------
namespace MiniDump {
//----------------------------------------------------------------------------
enum class Result
{
    Success = 0,
    NoDbgHelpDLL,
    InvalidFilename,
    CantCreateFile,
    DumpFailed,
    FailedToCloseHandle,
    NotAvailable,
};
//----------------------------------------------------------------------------
enum class InfoLevel {
    Small = 0,
    Medium,
    Large,
};
//----------------------------------------------------------------------------
void Start();
void Shutdown();
//----------------------------------------------------------------------------
Result Write(const wchar_t *filename, InfoLevel level,
    const void *exception_ptrs = nullptr,
    bool inSuspendOtherThreads = false );
//----------------------------------------------------------------------------
const char *ResultMessage(Result code);
//----------------------------------------------------------------------------
} //!namespace MiniDump
//----------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////
//----------------------------------------------------------------------------
} //!namespace Core

#include "stdafx.h"

#include "WorldTime.h"

#include "Core/Timeline.h"

namespace Core {
namespace Engine {
//----------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////
//----------------------------------------------------------------------------
WorldTime::WorldTime() : _speed(1), _elapsed(0), _total(0) {}
//----------------------------------------------------------------------------
WorldTime::~WorldTime() {}
//----------------------------------------------------------------------------
void WorldTime::SetSpeed(float value) {
    Assert(value >= 0 /* == for pause */);

    _speed = value;
}
//----------------------------------------------------------------------------
void WorldTime::Reset() {
    _elapsed = _total = 0;
}
//----------------------------------------------------------------------------
void WorldTime::Update(const Timeline& timeline) {
    _elapsed = timeline.Elapsed().Value() * _speed;
    _total = _total.Value() + _elapsed.Value();
}
//----------------------------------------------------------------------------
//////////////////////////////////////////////////////////////////////////////
//----------------------------------------------------------------------------
} //!namespace Engine
} //!namespace Core

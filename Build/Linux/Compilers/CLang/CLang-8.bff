#once

#include "CLangBase.bff"

//------------------------------------------------------------------------------
// Global Properties
//------------------------------------------------------------------------------

.CLang8BinPath = .LLVM_8_PATH
Print( "Using CLang-8 installation found in '$CLang8BinPath$'" )

//------------------------------------------------------------------------------
// CLang 6.0 (x86 + x64)
//------------------------------------------------------------------------------
Compiler( 'Compiler-CLang8' )
{
    .Root       = '$CLang8BinPath$'
    .Executable = '$Root$/clang++'
}

//------------------------------------------------------------------------------
// Pre-Compiled Headers Configurations
//------------------------------------------------------------------------------

.CLang8PCHEnabled     = .CLangBasePCHEnabled
.CLang8PCHDisabled    = .CLangBasePCHDisabled

//------------------------------------------------------------------------------
// Base Config
//------------------------------------------------------------------------------
.CLang8BaseConfig =
[
    .Defines = {}
    .ExecutableOptions = ''
    .ExecutableDeps = {}
    .CompilerOptions = ''
    .AdditionalOptions = ''
    .LinkerOptions = ''
    .SystemIncludePaths = {}
]

//------------------------------------------------------------------------------
// Platforms
//------------------------------------------------------------------------------
.CLang8BasePlatform =
[
    Using( .CLang8BaseConfig )

    .Compiler           = 'Compiler-CLang8'

    .Librarian          = '$CLang8BinPath$/llvm-ar'
    .Linker             = '$CLang8BinPath$/clang'

    .CompilerOptions    + ''

    .LinkerOptions      + ''
]
.CLang8PlatformX86 = .CLang8BasePlatform + .CLangBasePlatformX86
.CLang8PlatformX64 = .CLang8BasePlatform + .CLangBasePlatformX64

//------------------------------------------------------------------------------
// Configurations
//------------------------------------------------------------------------------

.CLang8_X86Debug      = .CLang8PlatformX86   + .CLangBaseDebugConfig
.CLang8_X86FastDebug  = .CLang8PlatformX86   + .CLangBaseFastDebugConfig
.CLang8_X86Release    = .CLang8PlatformX86   + .CLangBaseReleaseConfig
.CLang8_X86Profiling  = .CLang8PlatformX86   + .CLangBaseProfilingConfig
.CLang8_X86Final      = .CLang8PlatformX86   + .CLangBaseFinalConfig

.CLang8_X64Debug      = .CLang8PlatformX64   + .CLangBaseDebugConfig
.CLang8_X64FastDebug  = .CLang8PlatformX64   + .CLangBaseFastDebugConfig
.CLang8_X64Release    = .CLang8PlatformX64   + .CLangBaseReleaseConfig
.CLang8_X64Profiling  = .CLang8PlatformX64   + .CLangBaseProfilingConfig
.CLang8_X64Final      = .CLang8PlatformX64   + .CLangBaseFinalConfig

.CLang8CompileConfigs =
{
    // X86
    .CLang8_X86Debug,
    .CLang8_X86FastDebug,
    .CLang8_X86Release,
    .CLang8_X86Profiling,
    .CLang8_X86Final,

    // X64
    .CLang8_X64Debug,
    .CLang8_X64FastDebug,
    .CLang8_X64Release,
    .CLang8_X64Profiling,
    .CLang8_X64Final,
}

#once

#include "CLangBase.bff"

//------------------------------------------------------------------------------
// Global Properties
//------------------------------------------------------------------------------

.CLang9BinPath = .LLVM_9_PATH
Print( "Using CLang-9 installation found in '$CLang9BinPath$'" )

//------------------------------------------------------------------------------
// CLang 6.0 (x86 + x64)
//------------------------------------------------------------------------------
Compiler( 'Compiler-CLang9' )
{
    .Root       = '$CLang9BinPath$'
    .Executable = '$Root$/clang++'
}

//------------------------------------------------------------------------------
// Pre-Compiled Headers Configurations
//------------------------------------------------------------------------------

.CLang9PCHEnabled     = .CLangBasePCHEnabled
.CLang9PCHDisabled    = .CLangBasePCHDisabled

//------------------------------------------------------------------------------
// Base Config
//------------------------------------------------------------------------------
.CLang9BaseConfig =
[
    .Defines = {}
    .ExecutableOptions = ''
    .ExecutableDeps = {}
    .CompilerOptions = ''
    .AdditionalOptions = ''
    .LinkerOptions = ''
    .SystemIncludePaths = {}
]

//------------------------------------------------------------------------------
// Platforms
//------------------------------------------------------------------------------
.CLang9BasePlatform =
[
    Using( .CLang9BaseConfig )

    .Compiler           = 'Compiler-CLang9'

    .Librarian          = '$CLang9BinPath$/llvm-ar'
    .Linker             = '$CLang9BinPath$/clang'

    .CompilerOptions    + ''

    .LinkerOptions      + ''
]
.CLang9PlatformX86 = .CLang9BasePlatform + .CLangBasePlatformX86
.CLang9PlatformX64 = .CLang9BasePlatform + .CLangBasePlatformX64

//------------------------------------------------------------------------------
// Configurations
//------------------------------------------------------------------------------

.CLang9_X86Debug      = .CLang9PlatformX86   + .CLangBaseDebugConfig
.CLang9_X86FastDebug  = .CLang9PlatformX86   + .CLangBaseFastDebugConfig
.CLang9_X86Release    = .CLang9PlatformX86   + .CLangBaseReleaseConfig
.CLang9_X86Profiling  = .CLang9PlatformX86   + .CLangBaseProfilingConfig
.CLang9_X86Final      = .CLang9PlatformX86   + .CLangBaseFinalConfig

.CLang9_X64Debug      = .CLang9PlatformX64   + .CLangBaseDebugConfig
.CLang9_X64FastDebug  = .CLang9PlatformX64   + .CLangBaseFastDebugConfig
.CLang9_X64Release    = .CLang9PlatformX64   + .CLangBaseReleaseConfig
.CLang9_X64Profiling  = .CLang9PlatformX64   + .CLangBaseProfilingConfig
.CLang9_X64Final      = .CLang9PlatformX64   + .CLangBaseFinalConfig

.CLang9CompileConfigs =
{
    // X86
    .CLang9_X86Debug,
    .CLang9_X86FastDebug,
    .CLang9_X86Release,
    .CLang9_X86Profiling,
    .CLang9_X86Final,

    // X64
    .CLang9_X64Debug,
    .CLang9_X64FastDebug,
    .CLang9_X64Release,
    .CLang9_X64Profiling,
    .CLang9_X64Final,
}

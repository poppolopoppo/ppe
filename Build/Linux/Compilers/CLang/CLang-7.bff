#once

#include "CLangBase.bff"

//------------------------------------------------------------------------------
// Global Properties
//------------------------------------------------------------------------------

.CLang7BinPath = .LLVM_7_PATH
Print( "Using CLang-7 installation found in '$CLang7BinPath$'" )

//------------------------------------------------------------------------------
// CLang 6.0 (x86 + x64)
//------------------------------------------------------------------------------
Compiler( 'Compiler-CLang7' )
{
    .Root       = '$CLang7BinPath$'
    .Executable = '$Root$/clang++'
}

//------------------------------------------------------------------------------
// Pre-Compiled Headers Configurations
//------------------------------------------------------------------------------

.CLang7PCHEnabled     = .CLangBasePCHEnabled
.CLang7PCHDisabled    = .CLangBasePCHDisabled

//------------------------------------------------------------------------------
// Base Config
//------------------------------------------------------------------------------
.CLang7BaseConfig =
[
    .Defines = {}
    .ExecutableOptions = ''
    .ExecutableDeps = {}
    .CompilerOptions = ''
    .AdditionalOptions = ''
    .LinkerOptions = ''
    .SystemIncludePaths = {}
]

//------------------------------------------------------------------------------
// Platforms
//------------------------------------------------------------------------------
.CLang7BasePlatform =
[
    Using( .CLang7BaseConfig )

    .Compiler           = 'Compiler-CLang7'

    .Librarian          = '$CLang7BinPath$/llvm-ar'
    .Linker             = '$CLang7BinPath$/clang'

    .CompilerOptions    + ''

    .LinkerOptions      + ''
]
.CLang7PlatformX86 = .CLang7BasePlatform + .CLangBasePlatformX86
.CLang7PlatformX64 = .CLang7BasePlatform + .CLangBasePlatformX64

//------------------------------------------------------------------------------
// Configurations
//------------------------------------------------------------------------------

.CLang7_X86Debug      = .CLang7PlatformX86   + .CLangBaseDebugConfig
.CLang7_X86FastDebug  = .CLang7PlatformX86   + .CLangBaseFastDebugConfig
.CLang7_X86Release    = .CLang7PlatformX86   + .CLangBaseReleaseConfig
.CLang7_X86Profiling  = .CLang7PlatformX86   + .CLangBaseProfilingConfig
.CLang7_X86Final      = .CLang7PlatformX86   + .CLangBaseFinalConfig

.CLang7_X64Debug      = .CLang7PlatformX64   + .CLangBaseDebugConfig
.CLang7_X64FastDebug  = .CLang7PlatformX64   + .CLangBaseFastDebugConfig
.CLang7_X64Release    = .CLang7PlatformX64   + .CLangBaseReleaseConfig
.CLang7_X64Profiling  = .CLang7PlatformX64   + .CLangBaseProfilingConfig
.CLang7_X64Final      = .CLang7PlatformX64   + .CLangBaseFinalConfig

.CLang7CompileConfigs =
{
    // X86
    .CLang7_X86Debug,
    .CLang7_X86FastDebug,
    .CLang7_X86Release,
    .CLang7_X86Profiling,
    .CLang7_X86Final,

    // X64
    .CLang7_X64Debug,
    .CLang7_X64FastDebug,
    .CLang7_X64Release,
    .CLang7_X64Profiling,
    .CLang7_X64Final,
}
